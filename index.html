<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Video Downloader</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
	<!-- online link download -->
	

	<div class="container">
		<div class="ms-auto">
			<span>Online Download </span> 
			
			<a href="https://www.w3schools.com/tags/mov_bbb.mp4" id="download" download>Download video</a>
			<br>


		</div>

		
		
		

		

	<br>

	Local server Download
	<a href="video/CHECK.mp4" download="hello">Click Here to download</a>
		
	</div>

	<!-- Firstly please test it using this mp4 file in local php
	https://my-bucket-s3-ap-east-amazonaws.ibomma.fans/CHECK.mp4

	When we think we are ready to go then we start -->






	<script>

        downloadbtn = document.querySelector("#download");

        downloadbtn.addEventListener("click",e => {
            e.preventDefault();
            fetchFile(downloadbtn.getAttribute("href"));
        })

        function fetchFile(url){
            fetch(url,{mode: 'no-cors'}).then(res => res.blob()).then(file => {
                let temUrl = URL.createObjectURL(file);
                let aTag = document.createElement("a");
                aTag.href = temUrl;
                aTag.download = url.replace(/^.*[\\\/]/,'');
                document.body.appendChild(aTag);
                aTag.click();
                aTag.remove();
            })
        }
    </script>

	
</body>
</html>